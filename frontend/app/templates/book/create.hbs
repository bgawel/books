<div class="row">
  {{#if error}}
  <div class="alert alert-danger" role="alert">{{error}}</div>
  {{/if}}
  <h4 class="title">New book</h4>
  <form class="form-horizontal" {{action 'save' on='submit'}}>
    <div class="form-group">
      <label for="title" class="col-sm-2 control-label">Title *</label>
      <div class="col-sm-8">
        {{input value=title required="required" id="title" name="title" type="text" class="form-control" maxlength="128"}}
      </div>
    </div>
    <div class="form-group">
      <label for="title" class="col-sm-2 control-label">ISBN *</label>
      <div class="col-sm-3">
        {{input value=isbn required="required" id="isbn" name="isbn" type="text" class="form-control" maxlength="13" pattern="[0-9]{13}"}}
      </div>
    </div>
    <br>
    <fieldset>
      <legend>Author(s):</legend>
      {{#with this as root}}
      {{#each authors}}
      <div class="form-group">
        <label for="lastName" class="col-sm-2 control-label">Last name *</label>
        <div class="col-sm-8">
          {{input value=this.lastName required="required" name="lastName" type="text" class="form-control" maxlength="128"}}
        </div>
      </div>
      <div class="form-group">
        <label for="firstName" class="col-sm-2 control-label">First name *</label>
        <div class="col-sm-8">
          {{input value=this.firstName required="required" name="firstName" type="text" class="form-control" maxlength="128"}}
        </div>
        {{#if root.showRemove}}
          <button class="btn btn-warning" {{action 'removeAuthor' this.id}}>Remove</button>
        {{/if}}
      </div>
      {{/each}}
      {{/with}}
    </fieldset>
    <div>
      <button class="btn btn-info" {{action 'addAuthor'}}>Add author</button>
      <br><br>
      <button type="submit" class="btn btn-primary">Save</button>
    </div>
  </form>
</div>